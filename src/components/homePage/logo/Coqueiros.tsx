import { useSpring, useSprings, useSpringRef, animated } from "react-spring";

import { useLogo } from "./context/LogoContext";

const coqData = {
  offset: ["0", "0.508", "1"],
  colors: ["#13442f", "#0e5332", "#075d37"],
};

const Coqueiros = () => {
  const { ready, coloring } = useLogo();

  const moveSpringAPI = useSpringRef();

  const moveSpring = useSpring({
    ref: moveSpringAPI,
    from: {
      transform: "translatey(70%)",
      opacity: 0.9,
    },
    to: {
      transform: "translatey(0%)",
      opacity: 1,
    },
    delay: 1500,
    config: {
      mass: 50,
      friction: 100,
      tension: 40,
      clamp: true,
    },
  });

  const coqColorsAPI = useSpringRef();
  const [coqColors] = useSprings(3, (i) => ({
    ref: coqColorsAPI,
    delay: 2000,
    from: {
      c: "black",
      o: "0",
    },

    to: {
      c: coqData["colors"][i],
      o: coqData["offset"][i],
    },

    config: {
      mass: 50,
      friction: 100,
      tension: 40,
    },
  }));

  // const coqBaseAPI = useSpringRef()
  const coqBaseColor = useSpring({
    ref: coqColorsAPI,
    delay: 2000,
    from: { fill: "black" },
    to: { fill: "#754c29" },
    config: {
      mass: 50,
      friction: 100,
      tension: 40,
    },
  });

  if (ready) {
    moveSpringAPI.start();
  }

  if (coloring) {
    coqColorsAPI.start();
  }

  return (
    <>
      <linearGradient
        id="h_c_"
        x1={52.972}
        x2={228.408}
        y1={296.401}
        y2={190.221}
        gradientUnits="userSpaceOnUse"
      >
        {coqColors.map(({ c, o }, i) => (
          <animated.stop offset={o} stopColor={c} key={`ccolor_${i}`} />
        ))}
      </linearGradient>

      <animated.g style={moveSpring}>
        <animated.g fill={coqBaseColor.fill}>
          <path
            id="b2"
            d="M138.65 393.62c2.52.57 8.55 1.94 10.83 2.42-3.21-27.81-9.01-108.12 19.41-179.3l.04.02c.06-.2.21-.39.39-.57l-4.43-1.53c-9.76 22.3-29.78 80.69-26.24 178.96z"
          />

          <path
            id="b1"
            d="m103.28 377.17 7.88.3c-13.86-22.15-33.78-59.81-40.29-101.56l-3.36.97c2.56 18.76 10.63 53.78 35.77 100.29z"
          />
        </animated.g>

        <path
          id="h"
          d="M236.54 244.55c-1.01-4.45-2.4-8.78-4.11-13-2.59-6.41-5.84-12.44-10.41-17.68-4.22-4.84-9.29-8.37-15.58-9.99-5.62-1.45-11.31-1.39-17.01-.6-3.92.54-7.75 1.46-11.52 2.64-.11.03-.23.03-.35.04.09-.07.16-.17.26-.21 4.58-2.08 9.21-4.04 14.02-5.55.45-.14.64-.37.72-.82.23-1.19.5-2.37.76-3.56.03-.13.13-.25.19-.38.09.08.19.16.27.25.78.9 1.56 1.79 2.32 2.7.26.31.5.45.96.36 2.35-.47 4.72-.9 7.08-1.31.37-.06.5-.21.57-.56.15-.82.34-1.63.52-2.44.04-.16.1-.32.15-.48.13.1.28.19.39.31.64.72 1.28 1.43 1.88 2.18.31.39.64.47 1.12.42 1.76-.18 3.52-.37 5.29-.45 3.76-.18 7.52-.29 11.28-.43.16-.01.32-.07.48-.11-.11-.1-.21-.2-.33-.28-2.41-1.58-4.76-3.26-7.24-4.71-4.78-2.8-9.86-4.91-15.34-5.9-5.02-.91-9.93-.63-14.6 1.61-6.29 3.02-10.79 7.98-14.64 13.62-1.23 1.79-2.31 3.68-3.46 5.53-.06.1-.15.17-.23.26-.02-.11-.07-.23-.07-.34.01-1.16.06-2.32.04-3.48-.06-3.62-.39-7.21-1.1-10.76-.8-3.97-2.12-7.75-4.3-11.19-3.1-4.9-7.64-7.89-13.03-9.75-3.84-1.33-7.82-2.01-11.86-2.31-3.99-.3-7.98-.26-11.96.18-.16.02-.31.09-.47.14.13.1.25.22.39.31 1.82 1.14 3.67 2.23 5.45 3.44 2.82 1.91 5.6 3.88 8.38 5.86.35.25.63.34 1.03.19.95-.34 1.92-.65 2.88-.97.12-.04.24-.04.37-.06-.01.14.02.29-.02.41-.27.84-.58 1.67-.82 2.52-.06.2.04.54.19.68 1.8 1.62 3.63 3.21 5.44 4.82.28.25.5.31.87.18 1.14-.4 2.3-.76 3.46-1.13.13-.04.28-.03.42-.05-.02.12-.02.24-.05.36-.35 1.05-.68 2.11-1.08 3.15-.24.62-.21 1.06.28 1.61 3.36 3.75 6.29 7.83 9.16 11.96.07.1.11.21.16.32-.1-.07-.21-.12-.29-.2-.76-.81-1.49-1.65-2.26-2.45-5.16-5.31-10.83-9.94-17.73-12.87-4.52-1.92-9.21-2.8-14.12-2.38-5.37.46-10.37 2.19-15.14 4.6-6.18 3.12-11.7 7.19-16.82 11.81-1.53 1.39-2.97 2.88-4.45 4.33-.07.07-.11.19-.16.29.1 0 .2.02.3 0 .57-.09 1.15-.19 1.72-.27 6.85-1.02 13.74-1.77 20.66-2.13.52-.03.81-.21 1.07-.65.68-1.18 1.42-2.33 2.14-3.49.09-.14.22-.25.33-.37.08.15.19.29.25.44.44 1.1.87 2.21 1.29 3.32.12.31.22.55.67.56 3.28.04 6.57.12 9.85.22.41.01.63-.1.84-.45.84-1.41 1.71-2.81 2.57-4.21.1-.16.24-.29.37-.44.09.17.21.33.28.52.46 1.15 1 2.28 1.33 3.47.37 1.32 1.04 1.86 2.47 2.08 7.33 1.1 14.49 2.95 21.59 5.05.17.05.33.14.49.22-.17-.02-.35-.03-.52-.06-2.56-.45-5.11-.99-7.68-1.33-7.49-.98-14.96-1.03-22.38.68-9.12 2.09-15.97 7.29-20.97 15.08-3.18 4.95-5.4 10.34-7.06 15.96a92.724 92.724 0 0 0-2.87 13.24c-4.36-.92-8.65-.77-12.83.93-3.8 1.54-6.99 3.97-9.89 6.82-1.99 1.95-3.78 4.09-5.42 6.34-.05.07-.12.11-.18.17.02-.08.02-.16.06-.23 1.72-3.11 3.52-6.17 5.61-9.05.2-.27.21-.48.07-.77-.37-.77-.72-1.55-1.06-2.34-.04-.09-.03-.2-.05-.3.09.01.18.01.26.03.82.18 1.64.36 2.45.55.28.07.47.04.69-.2 1.14-1.26 2.3-2.49 3.46-3.72.18-.19.2-.33.09-.55-.26-.53-.49-1.07-.73-1.61a1.93 1.93 0 0 1-.11-.34c.12 0 .24-.01.35.01.66.14 1.33.27 1.98.44.34.09.56-.01.81-.23.92-.84 1.84-1.69 2.81-2.48 2.06-1.68 4.14-3.33 6.22-4.99.09-.07.15-.18.23-.26-.1-.01-.21-.03-.31-.02-2.03.12-4.07.16-6.09.38-3.89.42-7.65 1.37-11.18 3.11-3.23 1.6-5.89 3.82-7.6 7.06-2.29 4.36-2.76 9.06-2.57 13.88.06 1.53.24 3.06.37 4.59.01.08-.01.16-.02.24-.06-.05-.13-.1-.18-.16-.48-.66-.94-1.34-1.44-1.99-1.55-2.03-3.25-3.93-5.15-5.64-2.12-1.92-4.46-3.5-7.15-4.54-2.28-.88-4.56-1.15-6.85-.97-.59 3.22-1.12 6.47-1.6 9.74l2.78.24c.26.02.42-.04.57-.26.48-.71.98-1.4 1.48-2.1.06-.08.14-.14.22-.2.04.07.09.14.12.22.24.75.5 1.49.71 2.24.13.45.33.69.83.8 3.48.71 6.86 1.79 10.23 2.93.08.03.15.08.23.11-.08 0-.17.02-.25 0-.77-.14-1.54-.31-2.31-.44-5.05-.82-10.09-1.06-15.12.09-.66 5.04-1.17 10.12-1.54 15.25.34-.24.67-.48 1.01-.72.24-.17.32-.32.29-.61-.12-1.15-.21-2.31-.31-3.47-.01-.13.02-.27.02-.4.13.06.26.1.38.17.74.46 1.52.87 2.21 1.4.76.59 1.37.62 2.27.14 4.62-2.46 9.46-4.42 14.36-6.22.12-.04.25-.06.37-.09-.11.06-.21.13-.32.18-1.64.82-3.31 1.59-4.91 2.48-4.66 2.6-8.91 5.71-12.41 9.8-1.41 1.66-2.54 3.4-3.41 5.23-.16 3.72-.25 7.46-.25 11.22 0 3.78.1 7.54.26 11.29.18.55.37 1.1.57 1.65 1.57 4.3 3.59 8.39 6.02 12.27.06.1.16.17.24.25.02-.11.05-.23.06-.34.53-5.65 1.28-11.26 2.39-16.83.07-.34-.01-.56-.25-.8-.77-.77-1.52-1.56-2.28-2.34-.07-.07-.11-.17-.17-.25.1-.03.19-.08.29-.09.94-.12 1.88-.25 2.82-.36.28-.03.42-.11.5-.42.64-2.39 1.3-4.78 1.98-7.17.08-.29.03-.45-.17-.65-.88-.89-1.74-1.79-2.61-2.69-.11-.11-.19-.25-.28-.37.14-.04.29-.11.44-.12 1.26-.16 2.51-.33 3.78-.47.35-.04.52-.17.65-.5.3-.78.63-1.55.98-2.32 2.78-6.05 6.03-11.85 9.57-17.48.24-.06.63-.13.92.13l3.36-.97c.14-.54.46-1.08.52-1.06.08.02 15.38 4.8 21.46 7.63.33.15.56.15.86-.07 1.02-.75 2.07-1.46 3.11-2.18.11-.08.24-.15.36-.22.02.15.07.3.06.45-.04 1.25-.09 2.49-.14 3.74-.01.28.05.48.33.65 2.11 1.3 4.21 2.63 6.3 3.96.23.15.38.17.61 0 .78-.57 1.57-1.11 2.36-1.66.09-.06.18-.1.28-.15.01.1.03.2.03.29-.03 1.09-.06 2.17-.1 3.26-.01.29 0 .53.28.74 4.58 3.42 8.99 7.05 13.18 10.94.07.07.17.1.26.15 0-.1.03-.2.01-.3-.2-1.02-.38-2.04-.62-3.04-.79-3.3-1.76-6.54-3.03-9.69-1.8-4.48-4.06-8.69-7.26-12.35-2.55-2.91-5.56-5.17-9.21-6.53-4.41-1.64-8.98-1.91-13.61-1.53-4.56.37-8.99 1.37-13.33 2.79-.07.02-.15.03-.23.04.07-.05.14-.11.23-.14.66-.26 1.33-.52 1.99-.78 4.5-1.78 9.06-3.37 13.75-4.56.41-.1.58-.27.69-.67.29-1.12.62-2.23.94-3.35.03-.12.09-.23.14-.34.09.09.18.16.26.26.72.93 1.42 1.88 2.15 2.8.11.14.34.27.5.25 2.31-.26 4.61-.56 6.91-.83.33-.04.46-.15.53-.45.21-.83.45-1.65.68-2.48.03-.09.09-.18.13-.27.07.07.16.13.22.21.62.81 1.23 1.62 1.87 2.41.13.16.4.3.61.3 1.5-.02 3-.13 4.49-.11 3.78.04 7.56.14 11.34.21.13 0 .26-.02.39-.03-.1-.1-.19-.21-.29-.3-2.44-2.1-5.06-3.96-7.8-5.64-2.99-1.83-6.1-3.4-9.39-4.53 4.02-4.27 8.18-8.4 12.53-12.34.37-.33.46-.65.39-1.12-.23-1.52-.42-3.05-.62-4.58-.02-.14.02-.29.03-.43.13.05.28.07.4.14 1.17.65 2.35 1.3 3.5 1.97.35.2.57.22.92-.06 2.75-2.18 5.51-4.34 8.3-6.48.34-.26.42-.49.36-.88-.25-1.75-.47-3.51-.69-5.26-.03-.22-.01-.44-.01-.66.2.07.42.12.6.23 1.57.88 3.14 1.74 4.69 2.65.43.25.74.24 1.16-.03 1-.64 2.03-1.24 3.07-1.81 8.27-4.53 16.86-8.38 25.64-11.8.41.16 1.06.51.95 1.33l4.43 1.53c.6-.6 1.64-1.04 1.69-.97.07.09 13.44 18.45 17.96 26.79.25.46.51.64 1.05.65 1.79.01 3.59.09 5.38.14.2.01.4.03.59.05-.1.19-.18.4-.31.57-1.1 1.38-2.21 2.76-3.31 4.14-.25.31-.35.58-.18 1.02 1.3 3.26 2.56 6.54 3.82 9.82.14.36.28.51.69.51 1.36.01 2.73.06 4.09.1.15 0 .3.04.44.06-.07.12-.13.25-.22.36-.95 1.21-1.9 2.42-2.86 3.63-.26.32-.45.6-.31 1.08 2.33 7.76 4.27 15.61 5.76 23.57.03.14.11.26.16.39.09-.11.2-.21.26-.33.63-1.32 1.29-2.64 1.86-3.98 1.89-4.42 3.52-8.93 4.74-13.58 1.74-6.62 2.73-13.31 2.16-20.17-.45-5.46-1.96-10.57-4.96-15.2-3.63-5.59-8.6-9.74-14.18-13.23-5.49-3.43-11.38-6.03-17.52-8.08-.1-.03-.19-.1-.29-.15.13.01.26 0 .38.03.97.26 1.95.53 2.92.79 6.62 1.77 13.14 3.82 19.49 6.41.56.23.9.18 1.34-.18 1.28-1.03 2.59-2.02 3.89-3.02.14-.1.3-.18.45-.27.03.17.07.34.07.51.03 1.67.03 3.33.09 5 .01.24.17.59.37.71 2.84 1.65 5.71 3.25 8.56 4.9.4.23.65.22.99-.07.94-.77 1.91-1.5 2.87-2.24.11-.08.25-.13.38-.19.02.14.07.29.07.43.03 1.44.02 2.88.09 4.32.01.29.21.68.44.85 1.72 1.24 3.51 2.39 5.2 3.67 4.26 3.24 8.48 6.54 12.71 9.81.14.11.31.2.47.29-.05-.19-.06-.39-.1-.59z"
          style={{
            fill: "url(#h_c_)",
          }}
        />
      </animated.g>
    </>
  );
};

export default Coqueiros;
