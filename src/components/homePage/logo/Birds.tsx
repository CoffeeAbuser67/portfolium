import { useSprings, animated, useSpringRef } from "react-spring";

import { useLogo } from "./context/LogoContext";

const birdPaths = [
  "M251.27 166.24c1.03.27 3.3.18 3.94-.09 1.3-.54 2.29-3 2.64-3.27 0 0-2.02.54-2.24-.09 0 0 2.73-1.7 5.87-4.53 3.14-2.82 8.29-4.79 9.23-6.86 0 0-1.57 1.61-4.17 2.42-2.6.81-7.3 3.27-9.59 5.2-2.29 1.93-6.41 3.23-7.08 3.27-.67.04-.85-.49-1.57-.22-.72.27-.27 1.3-.81 1.52-.54.22-5.56 1.34-9.41 3.23s-6.86 3.05-7.98 3.09c0 0 2.73.4 7.39-1.57s11.83-3.5 12.1-3.41c.02.01.65 1.04 1.68 1.31z",
  "M384.21 169.48c1.19.6 3.98 1.09 4.84.93 1.73-.31 3.58-3.06 4.09-3.3 0 0-2.6.12-2.71-.7 0 0 3.79-1.36 8.36-3.98 4.57-2.62 11.39-3.66 13.08-5.93 0 0-2.34 1.56-5.73 1.85-3.39.3-9.78 2.07-13.08 3.81-3.3 1.75-8.67 2.25-9.51 2.12-.83-.12-.91-.83-1.86-.69-.95.14-.67 1.52-1.39 1.65-.72.13-7.14.17-12.34 1.45s-9.17 1.91-10.55 1.67c0 0 3.23 1.21 9.44.04s15.37-1.14 15.67-.96c.01.02.5 1.44 1.69 2.04z",
  "M316.36 151.45c-.12-.42-3.17 2.03-6.21 4.48-3.05 2.45-6.09 6.87-8.78 9.2-.54.47-1.03.86-1.49 1.21-.61-.34-1.23-.67-1.85-.44-.61.22-.86.52-1.05.79-.16.23-.38.43-1.04.58-.58.13-.36.37.33.36.37-.01.86.09 1.4.23-1.13.72-2.42 1.48-4.3 2.7-3.94 2.57-6.83 3.97-7.29 4.84-.28.53 2.21-.48 6.21-2.15 2.71-1.13 7.34-2.91 10.53-4.41 1.03-.05 2.06-.14 2.5-.04.6.15.54 1.37.93 1.25.39-.12 2.37-.77 2.96-1.28 1.22-1.08 1.76-2.99 1.34-3.08-.42-.09-1.28-.21-2.87.03-.21.03-.45.07-.72.12 1.65-2.27 4.12-6.56 5.65-8.73 1.83-2.61 3.87-5.24 3.75-5.66z",
  "M317.6 127.39c-.01 0 0-.01-.01-.01-.86-.3-2.15-.8-2.98-.29-.5.31-.44 1.13-.31 1.74-4.65 2.1-8.51 4.09-13.06 6.06-5.83 2.52-9.61 1.76-9.61 1.76s-1.15.63 5.15.59c6.3-.04 16.34-5.55 18.03-5.84 1.68-.29 2.76 1.13 4.81 1.12 2.05-.01 3.74-1.53 3.42-2.14-.32-.62-1.17-3.46 6.8-5.92s10.06-6.73 10.06-6.73c-2.19 2.15-14.75 6.5-21.45 9.29-.29.12-.56.24-.85.37z",
];

const Birds = () => {
  const { coloring } = useLogo();
  const birdSpringsRef = useSpringRef();

  const [birdSprings] = useSprings(birdPaths.length, (i) => ({
    ref: birdSpringsRef,
    from: { opacity: 0, transform: "translatex(15%) translatey(-10%)" },
    to: [
      { opacity: 1, transform: "translatex(0%) translatey(0%)" },
      { opacity: 0, transform: "translatex(-15%) translatey(-10%)" },
    ],
    delay: i * 350 + 3000,
    loop: true,
    config: {
      mass: 500,
      friction: 120,
      tension: 50,
    },
  }));

  if (coloring) {
    birdSpringsRef.start();
  }

  return (
    <>
      {birdSprings.map((style, index) => (
        <animated.path
          d={birdPaths[index]}
          style={{ ...style }}
          key={`bird_${index}`}
        />
      ))}
    </>
  );
};

export default Birds;
